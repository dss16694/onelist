"use strict";(self["webpackChunkonelist_web"]=self["webpackChunkonelist_web"]||[]).push([[123],{1123:function(a,e,t){t.r(e),t.d(e,{default:function(){return xa}});var l=t(6252),i=t(3577);const s=a=>((0,l.dD)("data-v-3a86be4e"),a=a(),(0,l.Cn)(),a),o={key:0,class:"load"},r={key:1,class:"main-content"},n={class:"view-backdrop"},c={class:"mainColumn"},d={class:"view-scroller"},u={class:"view-card-image"},_=["src"],h={class:"view-card-detail detailTextContainer"},p={class:"lex-direction-column"},g={class:"itemPrimaryNameContainer"},v={class:"itemName-primary"},w={class:"mediaInfo"},m={class:"mediaInfoItem"},y=s((()=>(0,l._)("span",{class:"icon-star"},[(0,l._)("i",{class:"bx bxs-star"})],-1))),b={class:"mediaInfoItem"},f={class:"mediaInfoItem mediaInfoOfficialRating"},M={class:"mediaInfoItem tag-list"},k=s((()=>(0,l._)("span",{class:"button-icon"},[(0,l._)("i",{class:"bx bxs-caret-right-circle"})],-1))),C=s((()=>(0,l._)("span",{class:"button-text"}," 播放 ",-1))),O=[k,C],x=s((()=>(0,l._)("span",{class:"button-icon"},[(0,l._)("i",{class:"bx bx-check-circle"})],-1))),N=s((()=>(0,l._)("span",{class:"button-text"}," 已播放 ",-1))),U=[x,N],I=s((()=>(0,l._)("span",{class:"button-icon"},[(0,l._)("i",{class:"bx bxs-heart"})],-1))),z=[I],R=s((()=>(0,l._)("span",{class:"button-icon"},[(0,l._)("i",{class:"bx bxs-star"})],-1))),H=[R],B={class:"overview-text"},W={class:"showContainer"},$=s((()=>(0,l._)("div",{class:"show-header"},[(0,l._)("div",{class:"show-title"},[(0,l._)("h3",null,"剧集信息")])],-1))),q={class:"episode-card-list"},P=["onClick"],S=["src"],A={class:"episode-content"},D={class:"episode-name"},j={class:"episode-star"},F=s((()=>(0,l._)("span",{class:"icon-star"},[(0,l._)("i",{class:"bx bxs-star"})],-1))),E={class:"episode-overview"},K={class:"episode-buttons"},Y=["onClick"],T=s((()=>(0,l._)("span",{class:"button-icon"},[(0,l._)("i",{class:"bx bxs-right-arrow"})],-1))),V=[T],Z=["onClick"],G=s((()=>(0,l._)("span",{class:"button-icon"},[(0,l._)("i",{class:"bx bx-dots-vertical-rounded"})],-1))),J=[G],L=s((()=>(0,l._)("i",{class:"bx bx-x"},null,-1))),Q={class:"play-list"},X={class:"play-item"},aa=["href"],ea=s((()=>(0,l._)("img",{class:"play-icon",src:"/images/iina.webp",alt:""},null,-1))),ta={class:"play-item"},la=["href"],ia=s((()=>(0,l._)("img",{class:"play-icon",src:"/images/potplayer.webp",alt:""},null,-1))),sa={class:"play-item"},oa=["href"],ra=s((()=>(0,l._)("img",{class:"play-icon",src:"/images/vlc.webp",alt:""},null,-1))),na={class:"play-item"},ca=["href"],da=s((()=>(0,l._)("img",{class:"play-icon",src:"/images/nplayer.webp",alt:""},null,-1))),ua={class:"play-item"},_a=["href"],ha=s((()=>(0,l._)("img",{class:"play-icon",src:"/images/infuse.webp",alt:""},null,-1))),pa={class:"play-item"},ga=["href"],va=s((()=>(0,l._)("img",{class:"play-icon",src:"/images/mxplayer.webp",alt:""},null,-1))),wa={class:"play-item"},ma=["href"],ya=s((()=>(0,l._)("img",{class:"play-icon",src:"/images/mxplayer-pro.webp",alt:""},null,-1)));function ba(a,e,t,s,k,C){const x=(0,l.up)("n-space"),N=(0,l.up)("n-tooltip"),I=(0,l.up)("n-button"),R=(0,l.up)("n-card"),T=(0,l.up)("n-modal");return s.loading?((0,l.wg)(),(0,l.iD)("div",o)):((0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("div",{class:"backdropContainer",style:(0,i.j5)({backgroundImage:"url("+s.backImg+")"})},null,4),(0,l._)("div",n,[(0,l._)("div",c,[(0,l._)("div",d,[(0,l._)("div",u,[(0,l._)("img",{src:a.COMMON.imgUrl+"/t/p/w220_and_h330_face/"+s.data.poster_path,alt:""},null,8,_)]),(0,l._)("div",h,[(0,l._)("div",p,[(0,l._)("div",g,[(0,l._)("h1",v,(0,i.zw)(s.data.name),1),(0,l._)("h2",null,(0,i.zw)(s.season.name),1)]),(0,l._)("div",w,[(0,l._)("div",m,[y,(0,l.Uk)((0,i.zw)(isNaN(Math.floor(100*s.data.vote_average)/100)?"":Math.floor(100*s.data.vote_average)/100),1)]),(0,l._)("div",b,(0,i.zw)(s.data.release_date),1),(0,l._)("div",f,(0,i.zw)(s.data.OfficialRating?s.data.OfficialRating:"-"),1),(0,l._)("div",M,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.data.genres,((a,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"tag-item",key:e},(0,i.zw)(a.name),1)))),128))])]),(0,l.Wm)(x,{size:"large",class:"detailButtons"},{default:(0,l.w5)((()=>[(0,l._)("button",{onClick:e[0]||(e[0]=a=>C.Play()),class:"detailButton outlineButton"},O),(0,l._)("button",{onClick:e[1]||(e[1]=a=>C.ReNewPlayed()),class:(0,i.C_)([s.data.played?"active":"","detailButton","outlineButton"])},U,2),(0,l._)("button",{onClick:e[2]||(e[2]=a=>C.ReNewHeart()),class:(0,i.C_)([s.data.heart?"active":"","detailButton","circleButton"])},z,2),(0,l._)("button",{onClick:e[3]||(e[3]=a=>C.ReNewStar()),class:(0,i.C_)([s.data.star?"active":"","detailButton","circleButton"])},H,2)])),_:1}),(0,l._)("div",B,(0,i.zw)(s.data.overview),1)])])]),(0,l._)("div",W,[$,(0,l._)("div",q,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.season.episodes,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"episode-card-item",key:t},[(0,l._)("div",{onClick:l=>a.ItemPlayer(e,t),class:"episode-img"},[(0,l._)("img",{loading:"lazy",src:a.COMMON.imgUrl+"/t/p/w710_and_h400_multi_faces"+e.still_path,alt:""},null,8,S)],8,P),(0,l._)("div",A,[(0,l._)("div",D,(0,i.zw)(t+1)+". "+(0,i.zw)(e.name),1),(0,l._)("div",j,[F,(0,l.Uk)((0,i.zw)(isNaN(Math.floor(100*e.vote_averag)/100)?"":Math.floor(100*e.vote_averag)/100),1)]),(0,l._)("div",E,(0,i.zw)(e.overview),1)]),(0,l._)("div",K,[(0,l.Wm)(N,{trigger:"hover"},{trigger:(0,l.w5)((()=>[(0,l._)("button",{onClick:a=>C.PlayEpisod(t+1),class:(0,i.C_)(["detailButton","circleButton"])},V,8,Y)])),default:(0,l.w5)((()=>[(0,l.Uk)(" 播放 ")])),_:2},1024),(0,l.Wm)(N,{trigger:"hover"},{trigger:(0,l.w5)((()=>[(0,l._)("button",{onClick:a=>C.OutsidePlay(e.url),class:"detailButton circleButton"},J,8,Z)])),default:(0,l.w5)((()=>[(0,l.Uk)(" 外部播放器 ")])),_:2},1024)])])))),128))])])])]),(0,l.Wm)(T,{"transform-origin":"center",show:s.showModal,"onUpdate:show":e[5]||(e[5]=a=>s.showModal=a)},{default:(0,l.w5)((()=>[(0,l.Wm)(R,{style:{width:"600px"},title:"外部播放器",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{"header-extra":(0,l.w5)((()=>[(0,l.Wm)(I,{onClick:e[4]||(e[4]=a=>s.showModal=!s.showModal),strong:"",secondary:"",circle:""},{default:(0,l.w5)((()=>[L])),_:1})])),default:(0,l.w5)((()=>[(0,l._)("ul",Q,[(0,l._)("li",X,[(0,l._)("a",{href:"iina://weblink/?url="+encodeURI(s.url),target:"_blank"},[(0,l.Wm)(N,{trigger:"hover"},{trigger:(0,l.w5)((()=>[ea])),default:(0,l.w5)((()=>[(0,l.Uk)(" IINA ")])),_:1})],8,aa)]),(0,l._)("li",ta,[(0,l._)("a",{href:"potplayer://"+encodeURI(s.url),target:"_blank"},[(0,l.Wm)(N,{trigger:"hover"},{trigger:(0,l.w5)((()=>[ia])),default:(0,l.w5)((()=>[(0,l.Uk)(" Potplayer ")])),_:1})],8,la)]),(0,l._)("li",sa,[(0,l._)("a",{href:"vlc://"+encodeURI(s.url),target:"_blank"},[(0,l.Wm)(N,{trigger:"hover"},{trigger:(0,l.w5)((()=>[ra])),default:(0,l.w5)((()=>[(0,l.Uk)(" vcl ")])),_:1})],8,oa)]),(0,l._)("li",na,[(0,l._)("a",{href:"nplayer-"+encodeURI(s.url),target:"_blank"},[(0,l.Wm)(N,{trigger:"hover"},{trigger:(0,l.w5)((()=>[da])),default:(0,l.w5)((()=>[(0,l.Uk)(" nplayer ")])),_:1})],8,ca)]),(0,l._)("li",ua,[(0,l._)("a",{href:"infuse://x-callback-url/play?url="+encodeURI(s.url),target:"_blank"},[(0,l.Wm)(N,{trigger:"hover"},{trigger:(0,l.w5)((()=>[ha])),default:(0,l.w5)((()=>[(0,l.Uk)(" infuse ")])),_:1})],8,_a)]),(0,l._)("li",pa,[(0,l._)("a",{href:"intent:"+encodeURI(s.url),target:"_blank"},[(0,l.Wm)(N,{trigger:"hover"},{trigger:(0,l.w5)((()=>[va])),default:(0,l.w5)((()=>[(0,l.Uk)(" Mxplayer ")])),_:1})],8,ga)]),(0,l._)("li",wa,[(0,l._)("a",{href:"intent:"+encodeURI(s.url),target:"_blank"},[(0,l.Wm)(N,{trigger:"hover"},{trigger:(0,l.w5)((()=>[ya])),default:(0,l.w5)((()=>[(0,l.Uk)(" Mxplayer-Pro ")])),_:1})],8,ma)])])])),_:1})])),_:1},8,["show"])]))}t(7658);var fa=t(2262),Ma=t(2201),ka={name:"VideoSeason",setup(){const a=(0,fa.iH)(!0),e=(0,fa.iH)(!1),t=(0,fa.iH)(!1),i=(0,fa.iH)(null),s=(0,fa.iH)(null),o=(0,fa.iH)(null),r=(0,fa.iH)(null),n=(0,fa.iH)(null),c=(0,fa.iH)(null),{proxy:d}=(0,l.FN)(),u=(0,fa.iH)(null),_=(0,fa.iH)(null);i.value=d.$route.query.tv_id,u.value=d.$route.query.id,_.value=d.$route.query.gallery_type;const h=(0,fa.iH)({data_type:"",data_id:""});function p(){let e=d.COMMON.apiUrl+`/v1/api/theseason/id?id=${u.value}`;d.axios.post(e,{},{headers:{"content-type":"application/json",Authorization:d.$cookies.get("Authorization")}}).then((e=>{200==e.data.code?(n.value=e.data.data,a.value=!1):d.COMMON.ShowMsg(e.data.msg)})).catch((a=>{d.COMMON.ShowMsg(a)}))}function g(){let a=`${d.COMMON.apiUrl}/v1/api/gallery/host?id=${r.value.gallery_uid}`;d.axios.post(a,{},{headers:{"content-type":"application/json",Authorization:d.$cookies.get("Authorization")}}).then((a=>{200==a.data.code?(a.data.data.length>0?s.value=a.data.data:s.value=window.location.origin+"/file/",p()):d.COMMON.ShowMsg(a.data.msg)})).catch((a=>{d.COMMON.ShowMsg(a)}))}function v(){let a=d.COMMON.apiUrl+`/v1/api/thetv/id?id=${i.value}`;d.axios.post(a,{},{headers:{"content-type":"application/json",Authorization:d.$cookies.get("Authorization")}}).then((a=>{200==a.data.code?(r.value=a.data.data,o.value=d.COMMON.imgUrl+"/t/p/w1920_and_h1080_bestv2"+r.value.backdrop_path,h.value.data_type=_.value,h.value.data_id=r.value.id,g()):d.COMMON.ShowMsg(a.data.msg)})).catch((a=>{d.COMMON.ShowMsg(a)}))}(0,Ma.ao)(((a,e)=>{u.value=a.query.id,i.value=a.query.tv_id,_.value=a.query.gallery_type,v()}));const w=()=>{v()};return(0,l.bv)((()=>{v()})),{tv_id:i,showModal:e,alist_host:s,url:t,data:r,seasonId:u,gallery_type:_,form:h,reF:w,loading:a,error:c,season:n,backImg:o}},methods:{Play(){this.$router.push({path:"/player",query:{id:this.tv_id,gallery_type:this.gallery_type,season_id:this.seasonId}})},OutsidePlay(a){this.url=this.alist_host+a,this.showModal=!this.showModal},PlayEpisod(a){this.$router.push({path:"/player",query:{id:this.tv_id,gallery_type:this.gallery_type,season_id:this.seasonId,speed:a}})},Request(a,e){this.axios.post(a,e,{headers:{"content-type":"application/json",Authorization:this.$cookies.get("Authorization")}}).then((a=>{200==a.data.code?(this.reF(),this.COMMON.ShowMsg(a.data.msg)):this.COMMON.ShowMsg(a.data.msg)})).catch((a=>{this.COMMON.ShowMsg(a)}))},ReNewPlayed(){this.Request(this.COMMON.apiUrl+"/v1/api/played/renew",this.form)},ReNewStar(){this.Request(this.COMMON.apiUrl+"/v1/api/star/renew",this.form)},ReNewHeart(){this.Request(this.COMMON.apiUrl+"/v1/api/heart/renew",this.form)}}},Ca=t(3744);const Oa=(0,Ca.Z)(ka,[["render",ba],["__scopeId","data-v-3a86be4e"]]);var xa=Oa}}]);
//# sourceMappingURL=123.4a6159f1.js.map